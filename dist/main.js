(()=>{"use strict";var e=[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}],t=document.querySelector(".popup_type_new-card"),n=document.querySelector(".popup_type_edit"),o=document.querySelector(".popup_type_image"),r=document.querySelector(".popup__form"),p=t.querySelector(".popup__form");function c(e){e.target.classList.contains("profile__edit-button")?n.classList.add("popup_is-opened"):e.target.classList.contains("profile__add-button")&&t.classList.add("popup_is-opened"),document.addEventListener("keydown",d)}function a(e){for(var t=0;t<e.length;t++)e[t].classList.remove("popup_is-opened");document.removeEventListener("keydown",d)}function d(e){"Escape"===e.key&&a(document.querySelectorAll(".popup"))}setTimeout((function(){n.classList.add("popup_is-animated"),t.classList.add("popup_is-animated"),o.classList.add("popup_is-animated")}),1e3);var u=document.querySelector("#card-template").content;function s(e,t,n,o){var r=u.querySelector(".card").cloneNode(!0),p=r.querySelector(".card__delete-button"),c=r.querySelector(".card__like-button"),a=r.querySelector(".card__image");return a.src=e.link,a.alt=e.name,r.querySelector(".card__title").textContent=e.name,p.addEventListener("click",(function(){t(r)})),c.addEventListener("click",(function(){n(c)})),a.addEventListener("click",(function(){o(e)})),r}function i(e){e.classList.toggle("card__like-button_is-active")}function l(e){e.remove()}var _=document.querySelector(".places__list"),m=document.querySelector(".profile__edit-button"),y=document.querySelector(".profile__add-button"),v=document.querySelectorAll(".popup"),f=o.querySelector(".popup__image"),k=o.querySelector(".popup__caption"),q=document.querySelector(".popup__input_type_name"),S=document.querySelector(".popup__input_type_description"),L=document.querySelector(".profile__title"),g=document.querySelector(".profile__description"),h=document.querySelector(".popup__input_type_card-name"),E=document.querySelector(".popup__input_type_url");m.addEventListener("click",c,j()),y.addEventListener("click",c),r.addEventListener("submit",(function(e){var t,n;e.preventDefault(),t=q.value,n=S.value,L.textContent=t,g.textContent=n,r.reset(),j(),a(v)})),p.addEventListener("submit",(function(t){var n;t.preventDefault(),n=s({name:h.value,link:E.value,alt:h.value},l,i,x),_.children.length<e.length?_.append(n):_.prepend(n),p.reset(),a(v)})),e.forEach((function(e){_.append(s(e,l,i,x))}));for(var b=0;b<v.length;b++)v[b].addEventListener("click",(function(e){(e.target.classList.contains("popup__close")||e.target.classList.contains("popup"))&&(j(),a(v))}));function x(e){f.src=e.link,f.alt=e.name,k.textContent=e.name,o.classList.add("popup_is-opened"),document.addEventListener("keydown",d)}function j(){q.value=L.textContent,S.value=g.textContent,h.value="",E.value=""}})();